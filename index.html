<html>
    <head>
        <title>Convert to Sterling Coins</title>
        <!--
        <script type="text/javascript" src="future-seperate-file.js"></script>
        <link rel="stylesheet" type="text/css" href="future-seperate-file.css">
        -->

        <style type="text/css">
            .msg {
                font-weight: bold;
                font-size: 1.2rem;
            }
            .errors {
                color: red;
                font-style: italic;
                font-weight: normal;
            }
        </style>
        
        <script type="text/javascript">
            var maxPence = 999999999; //arbitrary max, based on noticable browser lag

            //accepts pence as int or float and returns array of coins
            function convToCoins(pence) {
                var avaiCoins = [
                    {label:'£2', value: 200, amount: 0},
                    {label:'£1', value: 100, amount: 0},
                    {label:'50p', value: 50, amount: 0},
                    {label:'20p', value: 20, amount: 0},
                    {label:'2p', value: 2, amount: 0},
                    {label:'1p', value: 1, amount: 0},
                ];
                var remaining = pence;
                var i = 0;

                while(remaining > 0 && i < avaiCoins.length) {
                    if (remaining - avaiCoins[i].value >= 0) {
                        remaining -= avaiCoins[i].value;
                        avaiCoins[i].amount++;
                    }
                    else i++;
                }
                return avaiCoins;
            }

            function getCoins() {
                var money = cleanMoney(document.getElementById('money').value);
                var coins = convToCoins(money);
                var txtCoins = '';

                for(var i = 0; i < coins.length; i++) {
                    txtCoins += coins[i].label + '*' + coins[i].amount + ', ';
                }


                document.getElementsByClassName('msg')[0].innerHTML = 'Result ' + txtCoins;
            }
            function cleanMoney(money) {
                if (money) {
                    //allow decimals; only £/pound/gbp/p/pence allowed
                    return Math.round(money);
                }

                return 0;
            }
        </script>

    </head>
    <body>
        <p>Hi</p>
        <input type="text" id="money">
        <input type="submit" value="submit" onclick="getPence()">
        <p class="msg"></p>
    </body>
</html>
